# Figures

**Last updated:** 2026-02-05

## Figure Inventory

All figures are in `figures/` directory.

---

### fig_reconstruction_scatter.png

| Property | Value |
|----------|-------|
| Size | 584,629 bytes (585 KB) |
| Modified | 2026-02-05 18:01 |
| Generated by | `scripts/generate_all_figures.py` |
| Models used | `model_unsup_hybrid.pt`, `model_semisup_hybrid.pt` |
| Data used | `data/vae_training_data_v2_20cm.csv` |

**Description:** 2×6 grid of scatter plots showing true vs predicted values for each input feature. Top row: unsupervised; bottom row: semi-supervised. R² shown for each.

**To regenerate:**
```bash
uv run python scripts/generate_all_figures.py
```

---

### fig_roc_comparison.png

| Property | Value |
|----------|-------|
| Size | 232,770 bytes (233 KB) |
| Modified | 2026-02-05 18:03 |
| Generated by | `scripts/generate_all_figures.py` |
| Models used | `model_unsup_hybrid.pt`, `model_semisup_hybrid.pt` |
| Data used | `data/vae_training_data_v2_20cm.csv` |

**Description:** Two-panel ROC curve comparison for lithology classification. Shows top-10 lithology classes. SVM trained on embeddings. Reports per-class and mean AUC.

**To regenerate:**
```bash
uv run python scripts/generate_all_figures.py
```

---

### fig_umap_lithology.png

| Property | Value |
|----------|-------|
| Size | 1,402,127 bytes (1.4 MB) |
| Modified | 2026-02-05 18:04 |
| Generated by | `scripts/generate_all_figures.py` |
| Models used | `model_unsup_hybrid.pt`, `model_semisup_hybrid.pt` |
| Data used | `data/vae_training_data_v2_20cm.csv` |

**Description:** Side-by-side UMAP visualizations of embeddings, colored by lithology (top 15 classes). Left: unsupervised; right: semi-supervised.

**To regenerate:**
```bash
uv run python scripts/generate_all_figures.py
```

---

### fig_zeroshot_scatter.png

| Property | Value |
|----------|-------|
| Size | 61,568 bytes (62 KB) |
| Modified | 2026-02-05 18:04 |
| Generated by | `scripts/generate_all_figures.py` |
| Models used | `model_unsup_hybrid.pt`, `model_semisup_hybrid.pt` |
| Data used | `data/vae_training_data_v2_20cm.csv` |

**Description:** Zero-shot embedding quality comparison. Shows intra-class distance for held-out lithology classes. Lower = better clustering.

**To regenerate:**
```bash
uv run python scripts/generate_all_figures.py
```

---

### fig_generated_variables_grid.png

| Property | Value |
|----------|-------|
| Size | 122,089 bytes (122 KB) |
| Modified | 2026-02-05 18:04 |
| Generated by | `scripts/generate_all_figures.py` |
| Models used | `model_unsup_hybrid.pt`, `model_semisup_hybrid.pt` |
| Data used | None (samples from prior N(0,1)) |

**Description:** 2×6 grid of histograms showing distribution of generated samples (decoded from random latent vectors). Top: unsupervised; bottom: semi-supervised.

**To regenerate:**
```bash
uv run python scripts/generate_all_figures.py
```

---

### fig_r2_unsup_vs_semi.png

| Property | Value |
|----------|-------|
| Size | 476,532 bytes (477 KB) |
| Modified | 2026-02-03 14:39 |
| Generated by | `run_bootstrap_1337.py` |
| Models used | `unsup.pt`, `semisup.pt` ⚠️ (original, not hybrid) |
| Data used | Training data + LILY datasets |

**Description:** Scatter plot comparing R² scores from zero-shot prediction. Each point is a variable from LILY datasets. X: semi-supervised R²; Y: unsupervised R². 95% CI error bars from 100-iteration bootstrap.

**Colors:**
- Cyan: Semi-supervised wins
- Pink: Unsupervised wins

**Point size:** Scaled by log(n_samples)

**To regenerate:**
```bash
uv run python run_bootstrap_1337.py
```

**⚠️ Note:** Uses original models, not hybrid. Requires external LILY data.

---

### fig_lily_dataset.png

| Property | Value |
|----------|-------|
| Size | 199,215 bytes (199 KB) |
| Modified | 2026-02-02 17:20 |
| Generated by | `notebooks/paper_figures.ipynb` |
| Models used | Unknown |
| Data used | Unknown |

**Description:** Dataset overview figure.

**To regenerate:** Run notebook `notebooks/paper_figures.ipynb`

---

### fig_lily_expedition_map.png

| Property | Value |
|----------|-------|
| Size | 1,196,575 bytes (1.2 MB) |
| Modified | 2026-02-03 17:22 |
| Generated by | `notebooks/paper_figures.ipynb` |
| Models used | None |
| Data used | Unknown (expedition locations) |

**Description:** Geographic map showing IODP expedition locations. Requires `cartopy`.

**To regenerate:** Run notebook `notebooks/paper_figures.ipynb`

---

### fig_lily_lithology_counts.png

| Property | Value |
|----------|-------|
| Size | 175,867 bytes (176 KB) |
| Modified | 2026-02-02 14:51 |
| Generated by | `notebooks/paper_figures.ipynb` |
| Models used | None |
| Data used | `data/vae_training_data_v2_20cm.csv` |

**Description:** Bar chart showing counts of lithology classes.

**To regenerate:** Run notebook `notebooks/paper_figures.ipynb`

---

### fig_lily_variables_dist.png

| Property | Value |
|----------|-------|
| Size | 417,968 bytes (418 KB) |
| Modified | 2026-02-02 17:20 |
| Generated by | `notebooks/paper_figures.ipynb` |
| Models used | None |
| Data used | `data/vae_training_data_v2_20cm.csv` |

**Description:** Distribution plots of the 6 input variables.

**To regenerate:** Run notebook `notebooks/paper_figures.ipynb`

---

## Summary Table

| Figure | KB | Generated By | Uses Hybrid Models? |
|--------|---:|--------------|:-------------------:|
| fig_reconstruction_scatter.png | 585 | generate_all_figures.py | ✅ |
| fig_roc_comparison.png | 233 | generate_all_figures.py | ✅ |
| fig_umap_lithology.png | 1,402 | generate_all_figures.py | ✅ |
| fig_zeroshot_scatter.png | 62 | generate_all_figures.py | ✅ |
| fig_generated_variables_grid.png | 122 | generate_all_figures.py | ✅ |
| fig_r2_unsup_vs_semi.png | 477 | run_bootstrap_1337.py | ❌ (original) |
| fig_lily_dataset.png | 199 | notebook | ❓ |
| fig_lily_expedition_map.png | 1,197 | notebook | ❌ |
| fig_lily_lithology_counts.png | 176 | notebook | ❌ |
| fig_lily_variables_dist.png | 418 | notebook | ❌ |

---

## Regeneration Commands

**All hybrid-model figures:**
```bash
uv run python scripts/generate_all_figures.py
```

**R² scatter with bootstrap:**
```bash
uv run python run_bootstrap_1337.py
```

**Notebook figures:**
```bash
jupyter notebook notebooks/paper_figures.ipynb
# Run all cells
```

**Single figure (reconstruction scatter only, original models):**
```bash
uv run python scripts/remake_reconstruction_scatter.py
```
